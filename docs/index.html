<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Predicci√≥n de Estr√©s (IA)</title>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.20.0"></script>
</head>
<body style="font-family: sans-serif; text-align: center; margin-top: 40px;">
  <h2>üß† Predicci√≥n del Nivel de Estr√©s</h2>

  <p>Horas de sue√±o: <input type="number" id="sueno" min="0" max="12" step="0.1"></p>
  <p>Tazas de caf√©: <input type="number" id="cafe" min="0" max="10"></p>
  <p>Minutos de ejercicio: <input type="number" id="ejercicio" min="0" max="180"></p>
  <p>Horas frente a pantalla: <input type="number" id="pantalla" min="0" max="16" step="0.1"></p>
  
  <button onclick="predecir()">Predecir</button>
  <h3 id="resultado" style="margin-top: 20px;">‚Äî</h3>

  <script>
    let model;

    async function cargarModelo() {
      try {
        model = await tf.loadLayersModel('folder/model.json');
        console.log("‚úÖ Modelo cargado correctamente");
      } catch (err) {
        console.error("‚ùå Error cargando el modelo:", err);
      }
    }

    async function predecir() {
      if (!model) {
        alert("Modelo no cargado a√∫n");
        return;
      }

      const s = parseFloat(document.getElementById('sueno').value);
      const c = parseFloat(document.getElementById('cafe').value);
      const e = parseFloat(document.getElementById('ejercicio').value);
      const p = parseFloat(document.getElementById('pantalla').value);

      if ([s, c, e, p].some(isNaN)) {
        alert("Por favor completa todos los campos");
        return;
      }

      const entrada = tf.tensor2d([[s, c, e, p]]);
      const pred = model.predict(entrada);
      const clase = pred.argMax(1).dataSync()[0];
      const etiquetas = ["Bajo üòå", "Medio üòê", "Alto üò°"];
      document.getElementById('resultado').textContent = "Nivel de Estr√©s: " + etiquetas[clase];
    }

    cargarModelo();
  </script>
</body>
</html>
